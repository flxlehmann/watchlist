:root { color-scheme: light dark; }
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }
body { background: canvas; color: canvastext; }
.container, .wrap { max-width: 860px; margin: 0 auto; padding: 24px; }

.title { font-weight: 700; font-size: 22px; margin: 0 0 12px; }

.error { background: color-mix(in oklab, red 18%, transparent); color: color-mix(in oklab, red 85%, canvastext); border: 1px solid color-mix(in oklab, red 40%, transparent); padding: 8px 10px; border-radius: 10px; margin: 8px 0; }

.add { position: relative; }
.inputWrap { display: flex; gap: 8px; align-items: center; }
.inputWrap input { flex: 1; padding: 10px 12px; border-radius: 12px; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); background: canvas; color: canvastext; }
.inputWrap input::placeholder { opacity: .6; }

.iconBtn { display: inline-flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 10px; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); background: color-mix(in oklab, canvas 98%, canvastext 2%); cursor: pointer; }
.iconBtn:hover { background: color-mix(in oklab, canvastext 12%, canvas 88%); }
.iconBtn.active { outline: 2px solid color-mix(in oklab, canvastext 30%, transparent); }
.iconBtn.danger:hover { background: color-mix(in oklab, red 20%, canvas); border-color: color-mix(in oklab, red 40%, transparent); }

.suggestMenu { position: absolute; top: 42px; left: 0; right: 42px; background: canvas; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); border-radius: 12px; padding: 6px; display: grid; gap: 4px; z-index: 10; }
.suggestItem { display: grid; grid-template-columns: 32px 1fr; gap: 8px; align-items: center; padding: 6px; border-radius: 10px; border: none; background: transparent; text-align: left; cursor: pointer; }
.suggestItem:hover { background: color-mix(in oklab, canvastext 10%, canvas 90%); }
.suggestItem img { border-radius: 6px; }
.suggestMeta { display: grid; }
.suggestTitle { font-weight: 600; }
.suggestYear { opacity: .6; font-size: 12px; }

.filters { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin: 16px 0 8px; }
.chipRow { display: flex; gap: 6px; }
.chip { border: 1px solid color-mix(in oklab, canvastext 15%, transparent); border-radius: 999px; padding: 6px 10px; background: color-mix(in oklab, canvas 98%, canvastext 2%); cursor: pointer; }
.chip.active, .chip:hover { background: color-mix(in oklab, canvastext 12%, canvas 88%); }
.rightControls { display: flex; gap: 8px; align-items: center; }
.rightControls select { padding: 6px 8px; border-radius: 10px; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); background: canvas; color: canvastext; }
.viewToggles { display: flex; gap: 6px; }

.stats { display: flex; gap: 8px; align-items: center; margin: 8px 0 12px; }
.sub { opacity: .7; font-size: 12px; }
.sep { width: 1px; height: 14px; background: color-mix(in oklab, canvastext 15%, transparent); display: inline-block; transform: translateY(2px); }
.badge { border: 1px dashed color-mix(in oklab, canvastext 25%, transparent); padding: 4px 8px; border-radius: 8px; font-size: 12px; }
.copy { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }

.grid { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; }
.card { display: grid; grid-template-columns: 160px 1fr; gap: 12px; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); border-radius: 14px; padding: 10px; }
.poster { border-radius: 8px; object-fit: cover; background: color-mix(in oklab, canvastext 12%, canvas 88%); }
.poster.placeholder { display: block; }
.poster.placeholder.small { width: 48px; height: 72px; }
.meta { display: grid; gap: 6px; }
.titleRow { display: flex; gap: 8px; align-items: center; }
.itemTitle { font-weight: 600; line-height: 1.2; }
.year { font-size: 12px; opacity: .7; }
.subRow { display: flex; gap: 8px; align-items: center; }
.actions { display: flex; gap: 6px; align-items: center; margin-left: auto; }

.list { display: grid; gap: 8px; }
.row { display: grid; grid-template-columns: 48px 1fr auto; gap: 10px; align-items: center; border: 1px solid color-mix(in oklab, canvastext 15%, transparent); border-radius: 12px; padding: 8px; }

.footer { display: flex; gap: 8px; align-items: center; margin: 16px 0 8px; }
.footer .spacer { flex: 1; }

.loading { opacity: .7; padding: 12px; }

@media (max-width: 640px){
  .grid { grid-template-columns: repeat(1, minmax(0,1fr)); }
  .card { grid-template-columns: 100px 1fr; }
}
